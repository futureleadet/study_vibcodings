<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íšŒì› í”¼ë“œ ë° í™œë™ ê¸°ë¡</title>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
        body {
            background-color: #E3F2FD;
        }
        .post-creation-widget, .feed-item {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .feed-item .carousel-inner {
            aspect-ratio: 1 / 1;
        }
        .feed-item .carousel-item img {
            object-fit: cover;
            width: 100%;
            height: 100%;
        }
        .user-profile-img {
            width: 40px;
            height: 40px;
        }
        .feed-actions .btn {
            font-size: 1.2rem;
        }
    </style>
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm">
            <div class="container">
                <a class="navbar-brand" href="main_page.html"><img src="img/undraw_rocket.svg" alt="ë­í•˜ê³  ë†€ì§€?" style="height: 30px;"></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item mx-1">
                            <a class="btn btn-outline-primary" href="performance_info.html">ğŸ­ ê³µì—°ì •ë³´</a>
                        </li>
                        <li class="nav-item mx-1">
                            <a class="btn btn-outline-info" href="popup_info.html">ğŸ“¢ íŒì—…ì •ë³´</a>
                        </li>
                        <li class="nav-item mx-1">
                            <a class="btn btn-outline-success" href="restaurant_info.html">ğŸ´ ë§›ì§‘ì •ë³´</a>
                        </li>
                        <li class="nav-item mx-1">
                            <a class="btn btn-outline-warning" href="event_info.html">ğŸ ì´ë²¤íŠ¸ì •ë³´</a>
                        </li>
                        <li class="nav-item mx-1">
                            <a class="btn btn-outline-danger" href="feed.html">ğŸ“¸ ë†€ì´ì¸ì¦</a>
                        </li>
                        <li class="nav-item mx-1">
                            <a class="btn btn-outline-secondary" href="index.html">âš™ï¸ ê´€ë¦¬ì ì‹œìŠ¤í…œ</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <main class="container my-4">
        <div class="row justify-content-center">
            <div class="col-lg-8 col-xl-6">
                <!-- PostCreationWidget -->
                <section id="creationArea" class="post-creation-widget p-3 mb-4">
                    <h2 class="h5 mb-3">ë­í•˜ê³  ë†€ì•˜ë‚˜ìš”?</h2>
                    <textarea id="postContent" class="form-control mb-2" rows="3" placeholder="ì˜¤ëŠ˜ì˜ ì¦ê±°ì› ë˜ ìˆœê°„ì„ ê³µìœ í•´ë³´ì„¸ìš”!"></textarea>
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <label for="imageUpload" class="btn btn-light">
                                <i class="bi bi-images"></i> ì‚¬ì§„ ì¶”ê°€
                            </label>
                            <input type="file" id="imageUpload" multiple class="d-none">
                        </div>
                        <button id="createPostBtn" class="btn btn-primary" disabled>ê²Œì‹œ</button>
                    </div>
                </section>

                <!-- FeedList -->
                <section id="feedContent">
                    <!-- FeedItem 1 -->
                    <div class="feed-item mb-4" data-post-id="uuid-1">
                        <div class="p-3 d-flex justify-content-between align-items-center">
                            <div class="d-flex align-items-center">
                                <img src="https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop&crop=faces" class="user-profile-img rounded-circle me-2 object-fit-cover" alt="User profile">
                                <div>
                                    <div class="fw-bold">ë©‹ì§„í•˜ë£¨</div>
                                    <div class="text-muted small">ë°©ê¸ˆ ì „</div>
                                </div>
                            </div>
                            <div class="dropdown">
                                <button class="btn btn-light btn-sm" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="bi bi-three-dots-vertical"></i>
                                </button>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="#" onclick="handleUpdate('uuid-1')">ìˆ˜ì •</a></li>
                                    <li><a class="dropdown-item" href="#" onclick="handleDelete('uuid-1')">ì‚­ì œ</a></li>
                                </ul>
                            </div>
                        </div>
                        
                        <div id="carousel-post-1" class="carousel slide" data-bs-ride="carousel">
                            <div class="carousel-indicators">
                                <button type="button" data-bs-target="#carousel-post-1" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                                <button type="button" data-bs-target="#carousel-post-1" data-bs-slide-to="1" aria-label="Slide 2"></button>
                            </div>
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <img src="https://images.pexels.com/photos/9759905/pexels-photo-9759905.jpeg?auto=compress&cs=tinysrgb&w=600&h=600&fit=crop" class="d-block w-100" alt="Feed image 1">
                                </div>
                                <div class="carousel-item">
                                    <img src="https://images.pexels.com/photos/1884573/pexels-photo-1884573.jpeg?auto=compress&cs=tinysrgb&w=600&h=600&fit=crop" class="d-block w-100" alt="Feed image 2">
                                </div>
                            </div>
                            <button class="carousel-control-prev" type="button" data-bs-target="#carousel-post-1" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#carousel-post-1" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span>
                            </button>
                        </div>

                        <div class="p-3">
                            <div class="feed-actions d-flex gap-3 mb-2">
                                <button class="btn btn-light p-0 border-0"><i class="bi bi-heart"></i></button>
                                <button class="btn btn-light p-0 border-0"><i class="bi bi-chat"></i></button>
                            </div>
                            <div><strong>12 Likes</strong></div>
                            <p class="mb-1">
                                <span class="fw-bold">ë©‹ì§„í•˜ë£¨</span> ë”í˜„ëŒ€ íŒì—…ìŠ¤í† ì–´ ë‹¤ë…€ì™”ì–´ìš”! ì‚¬ëŒì´ ì •ë§ ë§ì•˜ì§€ë§Œ ì¬ë°Œì—ˆìŠµë‹ˆë‹¤ ğŸ˜„
                            </p>
                            <a href="#" class="text-muted">ëŒ“ê¸€ 3ê°œ ëª¨ë‘ ë³´ê¸°</a>
                        </div>
                    </div>

                    <!-- FeedItem 2 -->
                    <div class="feed-item mb-4" data-post-id="uuid-2">
                        <div class="p-3 d-flex justify-content-between align-items-center">
                             <div class="d-flex align-items-center">
                                <img src="https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop&crop=faces" class="user-profile-img rounded-circle me-2 object-fit-cover" alt="User profile">
                                <div>
                                    <div class="fw-bold">ì—¬í–‰ê°€ì</div>
                                    <div class="text-muted small">2ì‹œê°„ ì „</div>
                                </div>
                            </div>
                        </div>
                        
                        <img src="https://images.pexels.com/photos/1484674/pexels-photo-1484674.jpeg?auto=compress&cs=tinysrgb&w=600&h=600&fit=crop" class="d-block w-100" alt="Feed image 1">

                        <div class="p-3">
                             <div class="feed-actions d-flex gap-3 mb-2">
                                <button class="btn btn-light p-0 border-0"><i class="bi bi-heart"></i></button>
                                <button class="btn btn-light p-0 border-0"><i class="bi bi-chat"></i></button>
                            </div>
                            <div><strong>58 Likes</strong></div>
                            <p class="mb-1">
                                <span class="fw-bold">ì—¬í–‰ê°€ì</span> ì˜¤ëŠ˜ ë¨¹ì€ ë§ˆì œì†Œë°”. ì¸ìƒ ë§›ì§‘ ë“±ê·¹!
                            </p>
                            <a href="#" class="text-muted">ëŒ“ê¸€ 11ê°œ ëª¨ë‘ ë³´ê¸°</a>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const postContent = document.getElementById('postContent');
            const createPostBtn = document.getElementById('createPostBtn');

            // --- PostCreationWidget Logic (Create) ---
            postContent.addEventListener('input', () => {
                // Enable button only if there is text
                createPostBtn.disabled = postContent.value.trim() === '';
            });

            createPostBtn.addEventListener('click', () => {
                // This is where you would gather data and send it to the server.
                const content = postContent.value;
                const images = document.getElementById('imageUpload').files;
                
                console.log('Creating post:', { content, images });

                // **SIMULATION**: API call to create a post
                // fetch('/api/posts', {
                //     method: 'POST',
                //     headers: { 'Content-Type': 'application/json' },
                //     body: JSON.stringify({
                //         userId: 'current-user-id',
                //         content: content,
                //         images: [...images].map(f => 'url/to/image'), // Placeholder for uploaded image URLs
                //     })
                // })
                // .then(response => response.json())
                // .then(newPost => {
                //     console.log('Post created:', newPost);
                //     // Add the new post to the top of the feed
                // });
                
                alert("(ì‹œë®¬ë ˆì´ì…˜) ê²Œì‹œë¬¼ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤:\në‚´ìš©: " + content);
                
                // Reset form
                postContent.value = '';
                document.getElementById('imageUpload').value = '';
                createPostBtn.disabled = true;
            });
        });

        // --- FeedItem Logic (Update & Delete) ---
        
        function handleUpdate(postId) {
            // **SIMULATION**: API call to update a post
            // fetch(`/api/posts/${postId}`, { method: 'PUT', ... })
            alert("(ì‹œë®¬ë ˆì´ì…˜) ê²Œì‹œë¬¼ ID '" + postId + "' ìˆ˜ì •ì„ ì‹œì‘í•©ë‹ˆë‹¤.");
        }

        function handleDelete(postId) {
            // **SIMULATION**: API call to delete a post
            // fetch(`/api/posts/${postId}`, { method: 'DELETE', ... })
            if (confirm("(ì‹œë®¬ë ˆì´ì…˜) ê²Œì‹œë¬¼ ID '" + postId + "'ë¥¼ ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                document.querySelector(`.feed-item[data-post-id='${postId}']`).remove();
                alert("(ì‹œë®¬ë ˆì´ì…˜) ê²Œì‹œë¬¼ ID '" + postId + "'ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");
            }
        }
        
        // --- FeedList Logic (Read) ---
        // On page load, you would fetch the initial list of posts.
        // For infinite scroll, you'd add a scroll event listener to the window.
        // window.addEventListener('scroll', () => {
        //     if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 100) {
        //         // **SIMULATION**: API call to get the next page of posts
        //         // fetch('/api/posts?page=2', { method: 'GET', ... })
        //         console.log('Reached end of page, loading more posts...');
        //     }
        // });
    </script>
</body>
</html>
